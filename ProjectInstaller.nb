(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     94227,       2584]
NotebookOptionsPosition[     85488,       2302]
NotebookOutlinePosition[     86205,       2328]
CellTagsIndexPosition[     86119,       2323]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["ProjectInstaller", "Subsection",
 CellChangeTimes->{{3.56258966928125*^9, 3.5625896772958984`*^9}}],

Cell[CellGroupData[{

Cell["Code", "Subsubsection",
 CellChangeTimes->{{3.5625207852041016`*^9, 3.562520785649414*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Needs", "[", "\"\<JLink`\>\"", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Needs", "[", "\"\<ResourceLocator`\>\"", "]"}], ";"}]}], "Input",
 CellChangeTimes->{
  3.5625207924453125`*^9, {3.562595005857422*^9, 3.5625950071435547`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"$projectJarLocations", " ", "=", " ", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<C:\\\\Users\\\\Archie\\\\WolframWorkspaces\\\\Alt\\\\\
ProjectInstaller\\\\javaOutput\\\\Build\\\\jar\\\\ProjectInstaller.jar\>\"", 
      ",", "\[IndentingNewLine]", 
      "\"\<C:\\\\Users\\\\Archie\\\\WolframWorkspaces\\\\Alt\\\\\
ProjectInstaller\\\\ProjectInstaller\\\\Java\>\""}], "\[IndentingNewLine]", 
     "}"}]}], ";"}], "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.562518404145508*^9, 3.5625184337529297`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"CleanUp", ",", "HoldAll"}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"CleanUp", "[", 
    RowBox[{"expr_", ",", "cleanup_"}], "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"exprFn", ",", "result", ",", 
       RowBox[{"abort", "=", "False"}], ",", 
       RowBox[{"rethrow", "=", "True"}], ",", "seq"}], "}"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"exprFn", "[", "]"}], ":=", "expr"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"result", "=", 
       RowBox[{"CheckAbort", "[", 
        RowBox[{
         RowBox[{"Catch", "[", 
          RowBox[{
           RowBox[{"Catch", "[", 
            RowBox[{
             RowBox[{"result", "=", 
              RowBox[{"exprFn", "[", "]"}]}], ";", 
             RowBox[{"rethrow", "=", "False"}], ";", "result"}], "]"}], ",", 
           "_", ",", 
           RowBox[{
            RowBox[{"seq", "[", "##", "]"}], "&"}]}], "]"}], ",", 
         RowBox[{"abort", "=", "True"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", "cleanup", ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{"abort", ",", 
        RowBox[{"Abort", "[", "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{"rethrow", ",", 
        RowBox[{"Throw", "[", 
         RowBox[{"result", "/.", 
          RowBox[{"seq", "\[Rule]", "Sequence"}]}], "]"}]}], "]"}], ";", 
      "\[IndentingNewLine]", "result"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.5626014904677734`*^9, 3.562601493381836*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"TODO", ":", " ", 
    RowBox[{
    "decide", " ", "whether", " ", "throwing", " ", "an", " ", "exception", 
     " ", "is", " ", "indeed", " ", "appropriate", " ", "here"}]}], " ", 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"ClearAll", "[", "shortCircuitFail", "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"SetAttributes", "[", 
     RowBox[{"shortCircuitFail", ",", " ", "HoldAll"}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"shortCircuitFail", "[", 
      RowBox[{"code_", ",", "rest___"}], "]"}], ":=", "\[IndentingNewLine]", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"res", "=", "code"}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"res", "===", "$Failed"}], ",", "\[IndentingNewLine]", 
         RowBox[{"Throw", "[", "\[IndentingNewLine]", 
          RowBox[{"$Failed", ",", "\[IndentingNewLine]", 
           RowBox[{"error", "[", "\[IndentingNewLine]", 
            RowBox[{"shortCircuitFail", ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"Hold", "[", "code", "]"}], "/.", 
              RowBox[{"var_Symbol", "\[RuleDelayed]", 
               RowBox[{"With", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"result", " ", "=", " ", "var"}], "}"}], ",", " ", 
                 RowBox[{"result", "/;", "True"}]}], "]"}]}]}]}], 
            "\[IndentingNewLine]", "]"}]}], "]"}], ",", " ", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", "else", " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Length", "[", 
             RowBox[{"Hold", "[", "rest", "]"}], "]"}], "\[Equal]", "0"}], 
           ",", "res", ",", 
           RowBox[{"shortCircuitFail", "[", "rest", "]"}]}], "]"}]}], 
        "\[IndentingNewLine]", "]"}]}], "]"}]}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.562600091901367*^9, 3.5626001334560547`*^9}, {
  3.5626001870927734`*^9, 3.562600282421875*^9}, {3.562601977743164*^9, 
  3.5626020362783203`*^9}, {3.5626020795898438`*^9, 3.5626021284970703`*^9}, {
  3.56260222503125*^9, 3.5626023072714844`*^9}, {3.562602349939453*^9, 
  3.5626023549921875`*^9}, {3.5626028388251953`*^9, 3.5626028389746094`*^9}, {
  3.562609059459961*^9, 3.562609082239258*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "check", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"check", "[", "cond_", "]"}], ":=", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"!", 
      RowBox[{"TrueQ", "[", "cond", "]"}]}], ",", "$Failed"}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.5626028557070312`*^9, 3.562602903013672*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "makeTemporaryDirectoryName", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"makeTemporaryDirectoryName", "::", "maxit"}], "=", 
   "\"\<Unable to produce a unique directory name in `1` iterations\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "makeTemporaryDirectoryName", "]"}], "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{"MaxIterations", " ", "\[Rule]", " ", "1000"}], 
    "\[IndentingNewLine]", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"makeTemporaryDirectoryName", "[", "globalTempDir_", "]"}], ":=", 
  "\[IndentingNewLine]", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"tempDir", ",", " ", 
      RowBox[{"n", "=", "0"}], ",", 
      RowBox[{"lim", " ", "=", " ", 
       RowBox[{"OptionValue", "[", "MaxIterations", "]"}]}]}], " ", "}"}], 
    ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"While", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"FileExistsQ", "[", "\[IndentingNewLine]", 
        RowBox[{"tempDir", " ", "=", " ", "\[IndentingNewLine]", 
         RowBox[{"FileNameJoin", "[", 
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{"globalTempDir", ",", "\[IndentingNewLine]", 
            RowBox[{"StringJoin", "[", 
             RowBox[{"\"\<temp\>\"", ",", 
              RowBox[{"ToString", "[", 
               RowBox[{"RandomInteger", "[", 
                RowBox[{"10", "^", "5"}], "]"}], "]"}]}], "]"}]}], 
           "\[IndentingNewLine]", "}"}], "]"}]}], "\[IndentingNewLine]", 
        "]"}], "&&", " ", 
       RowBox[{
        RowBox[{"++", "n"}], "<", "lim"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"n", ">", "lim"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{
          RowBox[{"makeTemporaryDirectoryName", "::", "maxit"}], ",", "lim"}],
          "]"}], ";", "\[IndentingNewLine]", 
        RowBox[{"Return", "[", "$Failed", "]"}]}]}], "\[IndentingNewLine]", 
      "]"}], ";", "\[IndentingNewLine]", "tempDir"}]}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.5625070131757812`*^9, 3.562507023794922*^9}, {
  3.5625070573691406`*^9, 3.5625072225126953`*^9}, {3.5625072780253906`*^9, 
  3.5625076469970703`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"TODO", " ", "Add", " ", "error", " ", 
     RowBox[{"messages", " ", "/", " ", "analysis"}]}], ",", " ", 
    RowBox[{"based", " ", "on", " ", "Java", " ", "error", " ", "info"}]}], 
   " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"ClearAll", "[", "extractArchive", "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"extractArchive", "[", 
      RowBox[{"source_", ",", "dest_", ",", 
       RowBox[{"type_:", "\"\<ZIP\>\""}]}], "]"}], ":=", 
     "\[IndentingNewLine]", 
     RowBox[{"Block", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"unZip", ",", "unGzip", ",", "unTar"}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Module", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"javaError", ",", "javaExtractor"}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"JavaBlock", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"javaExtractor", "=", " ", 
            RowBox[{"Quiet", "@", 
             RowBox[{
             "JavaNew", "[", "\"\<org.lshifr.arch.ZipTarExtractor\>\"", 
              "]"}]}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"javaExtractor", " ", "===", " ", "$Failed"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"Return", "[", "$Failed", "]"}]}], "\[IndentingNewLine]",
             "]"}], ";", "\[IndentingNewLine]", 
           RowBox[{"With", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"method", " ", "=", " ", "\[IndentingNewLine]", 
               RowBox[{"Switch", "[", 
                RowBox[{
                "type", ",", "\[IndentingNewLine]", "\"\<ZIP\>\"", ",", 
                 "\[IndentingNewLine]", "\t", "unZip", ",", 
                 "\[IndentingNewLine]", "\"\<GZIP\>\"", ",", 
                 "\[IndentingNewLine]", "\t", "unGzip", ",", 
                 "\[IndentingNewLine]", "\"\<TAR\>\"", ",", 
                 "\[IndentingNewLine]", "\t", "unTar", ",", 
                 "\[IndentingNewLine]", "_", ",", "\[IndentingNewLine]", "\t", 
                 RowBox[{"Throw", "[", 
                  RowBox[{"$Failed", ",", " ", 
                   RowBox[{"error", "[", "extractArchive", "]"}]}], "]"}]}], 
                "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "}"}], 
             ",", "\[IndentingNewLine]", 
             RowBox[{"javaError", " ", "=", " ", 
              RowBox[{"javaExtractor", "@", 
               RowBox[{"method", "[", 
                RowBox[{"source", ",", "dest"}], "]"}]}]}]}], "]"}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"javaError", "@", "msg"}], "=!=", "\"\<Success\>\""}], 
             ",", "$Failed", ",", " ", "dest"}], "]"}]}], 
          "\[IndentingNewLine]", "]"}]}], "]"}]}], "]"}]}], 
    ";"}]}]}]], "Input",
 CellChangeTimes->{{3.5625188849228516`*^9, 3.5625191672460938`*^9}, {
  3.562603912459961*^9, 3.5626039432666016`*^9}, {3.562603987321289*^9, 
  3.5626040235527344`*^9}, {3.562604272845703*^9, 3.562604275330078*^9}, {
  3.5626046916210938`*^9, 3.5626046986220703`*^9}, {3.562604731711914*^9, 
  3.562604752623047*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "getProjectName", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"getProjectName", "[", "prfile_", "]"}], ":=", 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Get", "[", "prfile", "]"}], "/.", 
   RowBox[{
    RowBox[{"project", "[", "rules__", "]"}], "\[RuleDelayed]", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\"\<name\>\"", "/.", 
       RowBox[{"{", "rules", "}"}]}], "/.", 
      RowBox[{"\"\<name\>\"", "\[RuleDelayed]", 
       RowBox[{"Throw", "[", 
        RowBox[{"$Failed", ",", " ", "getProjectName"}], "]"}]}]}], 
     ")"}]}]}]}]}], "Input",
 CellChangeTimes->{{3.5625145791484375`*^9, 3.5625146238398438`*^9}, {
  3.5625149058652344`*^9, 3.5625149085117188`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "singlePackageInProjectQ", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"singlePackageInProjectQ", "[", "prdir_", "]"}], ":=", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Length", "[", 
     RowBox[{"FileNames", "[", 
      RowBox[{"\"\<*.m\>\"", ",", 
       RowBox[{"{", "prdir", "}"}]}], "]"}], "]"}], "\[Equal]", "1"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.562514657696289*^9, 3.5625147067998047`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"showIt", "[", "x__", "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"Print", "[", "x", "]"}], ";", "x"}], ")"}]}]], "Input",
 CellChangeTimes->{{3.562515384126953*^9, 3.5625153950585938`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "determineProjectName", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"determineProjectName", "::", "nopckg"}], " ", "=", " ", 
   "\"\<A package with the same name as the project: `1`, expected in the top \
level of the porject directory\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"determineProjectName", "[", 
    RowBox[{"prdir_String", "?", "DirectoryQ"}], "]"}], ":=", 
   "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"prfile", "=", " ", 
        RowBox[{"FileNameJoin", "[", 
         RowBox[{"{", 
          RowBox[{"prdir", ",", "\"\<project.m\>\""}], "}"}], "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"packages", " ", "=", " ", 
        RowBox[{"FileNames", "[", 
         RowBox[{"\"\<*.m\>\"", ",", 
          RowBox[{"{", "prdir", "}"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
       "prname"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"prname", "=", 
       RowBox[{"Which", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"FileExistsQ", "[", "prfile", "]"}], ",", 
         "\[IndentingNewLine]", "\t", 
         RowBox[{"getProjectName", "[", "prfile", "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Length", "[", "packages", "]"}], "\[Equal]", "1"}], ",", 
         "\[IndentingNewLine]", "\t", 
         RowBox[{"FileBaseName", "[", 
          RowBox[{"First", "@", "packages"}], "]"}], ",", 
         "\[IndentingNewLine]", "True", ",", "\[IndentingNewLine]", "\t", 
         RowBox[{"Throw", "[", 
          RowBox[{"$Failed", ",", "determineProjectName"}], "]"}]}], 
        "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"mainPackage", " ", "=", 
          RowBox[{"FileNameJoin", "[", 
           RowBox[{"{", 
            RowBox[{"prdir", ",", 
             RowBox[{"prname", "<>", "\"\<.m\>\""}]}], "}"}], "]"}]}], "}"}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"!", 
           RowBox[{"MemberQ", "[", 
            RowBox[{"packages", ",", " ", "mainPackage"}], "]"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Message", "[", 
            RowBox[{
             RowBox[{"determineProjectName", "::", "nopckg"}], ",", 
             RowBox[{"FileNameTake", "[", 
              RowBox[{"mainPackage", ",", 
               RowBox[{"-", "1"}]}], "]"}]}], "]"}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"Throw", "[", 
            RowBox[{"$Failed", ",", "determineProjectName"}], "]"}], ";"}]}], 
         "\[IndentingNewLine]", "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      "prname"}]}], "\[IndentingNewLine]", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.562514818040039*^9, 3.5625148874179688`*^9}, {
  3.562515053408203*^9, 3.5625153468359375`*^9}, {3.5625154039296875`*^9, 
  3.5625154324541016`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "projectAlreadyExistsQ", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"projectAlreadyExistsQ", "[", 
    RowBox[{
     RowBox[{"prdir_String", "?", "DirectoryQ"}], ",", "prname_String"}], 
    "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Select", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"FileNames", "[", 
       RowBox[{
        RowBox[{"{", "\"\<*\>\"", "}"}], ",", " ", "prdir"}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"FileBaseName", "[", "#", "]"}], "===", "prname"}], "&&", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"DirectoryQ", "[", "#", "]"}], "||", 
          RowBox[{
           RowBox[{"FileExtension", "[", "#", "]"}], "===", "\"\<m\>\""}]}], 
         ")"}]}], "&"}]}], "\[IndentingNewLine]", "]"}], "=!=", 
    RowBox[{"{", "}"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.5625167035410156`*^9, 3.5625167734003906`*^9}, {
  3.562516808901367*^9, 3.5625169845009766`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "uninstallProject", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"uninstallProject", "[", 
     RowBox[{"prdir_", ",", "prname_"}], "]"}], "/;", 
    RowBox[{"projectAlreadyExistsQ", "[", 
     RowBox[{"prdir", ",", "prname"}], "]"}]}], ":=", "\[IndentingNewLine]", 
   RowBox[{"DeleteDirectory", "[", 
    RowBox[{
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{"prdir", ",", "prname"}], "}"}], "]"}], ",", 
     RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.5625174837304688`*^9, 3.5625175863359375`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "formatCode", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"formatCode", "[", "code_Hold", "]"}], ":=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Function", "[", 
        RowBox[{"Null", ",", 
         RowBox[{"ToString", "[", 
          RowBox[{
           RowBox[{"Unevaluated", "[", "#", "]"}], ",", "InputForm"}], "]"}], 
         ",", "HoldAll"}], "]"}], "@@", "code"}], ",", 
      RowBox[{"\"\<;\>\"", "\[RuleDelayed]", "\"\<;\\n\>\""}]}], "]"}]}], 
   ";"}], "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"Clear", "[", "saveCode", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"saveCode", "[", 
    RowBox[{"file_", ",", "generatedCode_"}], "]"}], ":=", 
   "\[IndentingNewLine]", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"result", "=", 
       RowBox[{"BinaryWrite", "[", 
        RowBox[{"file", ",", 
         RowBox[{"formatCode", "@", "generatedCode"}]}], "]"}]}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Close", "[", "file", "]"}], ";", "\[IndentingNewLine]", 
      "result"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.5625155869833984`*^9, 3.5625155869882812`*^9}, {
  3.5626034145996094`*^9, 3.5626034191210938`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "makeContext", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"makeContext", "[", 
    RowBox[{"name_String", ",", 
     RowBox[{"contextSeparator_String:", "\"\<`\>\""}]}], "]"}], ":=", 
   RowBox[{"name", "<>", "contextSeparator"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.562597576004883*^9, 3.5625976293964844`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "makeCodeForInitFile", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"makeCodeForInitFile", "[", "projectName_String", "]"}], ":=", 
  "\[IndentingNewLine]", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"context", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"#", "<>", "#"}], "&"}], "[", 
       RowBox[{"makeContext", "[", "projectName", "]"}], " ", "]"}]}], "}"}], 
    ",", "\[IndentingNewLine]", 
    RowBox[{"Hold", "[", 
     RowBox[{"Get", "[", "context", "]"}], "]"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.562609573633789*^9, 3.5626096404140625`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "moveFile", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"moveFile", "[", 
    RowBox[{
     RowBox[{"src_String", "?", "FileExistsQ"}], ",", "dest_String"}], "]"}], 
   ":=", "\[IndentingNewLine]", 
   RowBox[{"shortCircuitFail", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"CopyFile", "[", 
      RowBox[{"src", ",", "dest"}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"DeleteFile", "[", "src", "]"}], ",", "\[IndentingNewLine]", 
     "dest"}], "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"moveFile", "[", "___", "]"}], ":=", 
   RowBox[{"Throw", "[", 
    RowBox[{"$Failed", ",", " ", 
     RowBox[{"error", "[", "moveFile", "]"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.562609880036133*^9, 3.562610014513672*^9}, {
  3.562610088359375*^9, 3.5626100912998047`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "exitOnFailure", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"exitOnFailure", "[", 
    RowBox[{"val_", ",", "fun_"}], "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"val", " ", "===", " ", "$Failed"}], ",", " ", 
     RowBox[{"Throw", "[", 
      RowBox[{"$Failed", ",", " ", 
       RowBox[{"error", "[", "fun", "]"}]}], "]"}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.56261031178125*^9, 3.5626103729228516`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "initFileNameFor", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"initFileNameFor", "[", "dir_String", "]"}], ":=", 
   "\[IndentingNewLine]", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{"dir", ",", "\"\<init.m\>\""}], "}"}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.562610518421875*^9, 3.5626105765966797`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Clear", "[", "makeInitFile", "]"}], ";"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{
    "It", " ", "is", " ", "assumed", " ", "that", " ", "by", " ", "the", " ", 
     "time", " ", "this", " ", "function", " ", "is", " ", "called"}], ",", 
    " ", 
    RowBox[{
    "all", " ", "the", " ", "files", " ", "have", " ", "been", " ", "copied", 
     " ", "to", " ", "the", " ", "targetProjectDir"}]}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"makeInitFile", "[", 
    RowBox[{
     RowBox[{"targetProjectDir_String", "?", "DirectoryQ"}], ",", 
     "projectName_String"}], "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"kernelDir", ",", "newInitFile", ",", "initFile"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"initFile", " ", "=", 
       RowBox[{"initFileNameFor", "[", "targetProjectDir", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"exitOnFailure", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"kernelDir", " ", "=", " ", 
         RowBox[{"CreateDirectory", "[", 
          RowBox[{"FileNameJoin", "[", 
           RowBox[{"{", 
            RowBox[{"targetProjectDir", ",", "\"\<Kernel\>\""}], "}"}], "]"}],
           "]"}]}], ",", "\[IndentingNewLine]", "makeInitFile"}], 
       "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"newInitFile", "  ", "=", " ", 
       RowBox[{"initFileNameFor", "[", "kernelDir", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"FileExistsQ", "[", "initFile", "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"moveFile", "[", 
         RowBox[{"initFile", ",", "newInitFile"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", " ", "else", " ", "*)"}], "\[IndentingNewLine]", 
        RowBox[{"saveCode", "[", 
         RowBox[{"newInitFile", ",", 
          RowBox[{"makeCodeForInitFile", "[", "projectName", "]"}]}], "]"}]}],
        "\[IndentingNewLine]", "]"}]}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.562595369633789*^9, 3.5625953853945312`*^9}, {
  3.5625954451064453`*^9, 3.562595551458008*^9}, {3.5625955829941406`*^9, 
  3.562595613713867*^9}, {3.5625957447373047`*^9, 3.5625957934052734`*^9}, {
  3.5625958470390625`*^9, 3.5625960466914062`*^9}, {3.562596092102539*^9, 
  3.5625961505966797`*^9}, {3.562597642975586*^9, 3.5625976490029297`*^9}, {
  3.562597683017578*^9, 3.562597683232422*^9}, {3.562597731555664*^9, 
  3.5625977617666016`*^9}, {3.5626032184628906`*^9, 3.562603235317383*^9}, {
  3.562603304345703*^9, 3.5626033868115234`*^9}, {3.562603465243164*^9, 
  3.562603467116211*^9}, {3.562609654966797*^9, 3.56260967565625*^9}, {
  3.5626100352128906`*^9, 3.562610044180664*^9}, {3.5626101038066406`*^9, 
  3.5626101214296875`*^9}, {3.5626101631376953`*^9, 3.5626102785439453`*^9}, {
  3.562610401227539*^9, 3.5626104296552734`*^9}, {3.562610587350586*^9, 
  3.5626106250302734`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "buildProjectLayout", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"buildProjectLayout", "[", 
    RowBox[{
     RowBox[{"tempLayoutDir_String", "?", "DirectoryQ"}], ",", 
     RowBox[{"prdir_String", "?", "DirectoryQ"}], ",", "projectName_String"}],
     "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"initFile", ",", "targetProjectDir"}], " ", "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"shortCircuitFail", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"targetProjectDir", " ", "=", 
        RowBox[{"FileNameJoin", "[", 
         RowBox[{"{", " ", 
          RowBox[{"tempLayoutDir", " ", ",", " ", "projectName"}], "}"}], 
         "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"CopyDirectory", "[", 
        RowBox[{"prdir", ",", "targetProjectDir"}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"initFile", " ", "=", " ", 
        RowBox[{"makeInitFile", "[", 
         RowBox[{"targetProjectDir", ",", "projectName"}], "]"}]}], ",", 
       "\[IndentingNewLine]", "targetProjectDir"}], "\[IndentingNewLine]", 
      "]"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.562519897338867*^9, 3.5625200744345703`*^9}, {
   3.562520527073242*^9, 3.5625206854990234`*^9}, {3.562595304885742*^9, 
   3.5625953210507812`*^9}, {3.562595428029297*^9, 3.562595431220703*^9}, {
   3.562596085451172*^9, 3.562596086745117*^9}, {3.562596157689453*^9, 
   3.562596165958008*^9}, {3.5625974444521484`*^9, 3.562597476041992*^9}, {
   3.5625975471259766`*^9, 3.562597552569336*^9}, {3.562597997913086*^9, 
   3.5625980303339844`*^9}, {3.562598087140625*^9, 3.5625981159091797`*^9}, {
   3.562598468189453*^9, 3.562598475701172*^9}, 3.5625985525478516`*^9, {
   3.5625987086328125`*^9, 3.5625987552822266`*^9}, {3.5625987937265625`*^9, 
   3.562598800067383*^9}, {3.5625988340683594`*^9, 3.5625988516728516`*^9}, {
   3.5625991309541016`*^9, 3.5625991316621094`*^9}, {3.5625991720234375`*^9, 
   3.562599190760742*^9}, {3.5625994168935547`*^9, 3.5625994871103516`*^9}, {
   3.5626031642001953`*^9, 3.562603200852539*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "This", " ", "explicitly", " ", "assumes", " ", "that", " ", "the", " ", 
    "unzipped", " ", "project", " ", "was", " ", "a", " ", "in", " ", "a", 
    " ", "single", " ", "folder"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"ClearAll", "[", "getProjectDirNameFromUnzipped", "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"getProjectDirNameFromUnzipped", "[", 
      RowBox[{"unzippedDir_String", "?", "DirectoryQ"}], "]"}], ":=", 
     "\[IndentingNewLine]", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"files", " ", "=", " ", 
         RowBox[{"FileNames", "[", 
          RowBox[{"\"\<*\>\"", ",", "unzippedDir"}], "]"}]}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"First", "[", "files", "]"}], "/;", 
        RowBox[{"MatchQ", "[", 
         RowBox[{"files", ",", 
          RowBox[{"{", 
           RowBox[{"_", "?", "DirectoryQ"}], "}"}]}], "]"}]}]}], 
      "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"getProjectDirNameFromUnzipped", "[", "___", "]"}], ":=", 
     "$Failed"}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.5626024537841797`*^9, 3.562602659692383*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "ReverseIfFails", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ReverseIfFails", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ReverseIfFails", "[", 
    RowBox[{"initCode_", ",", "mainFunc_", ",", "reverseFunc_"}], "]"}], ":=",
    "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"init", ",", "result"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"init", " ", "=", " ", "initCode"}], ")"}], "===", 
         "$Failed"}], ",", " ", 
        RowBox[{"Return", "[", "$Failed", "]"}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"CleanUp", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"result", "=", " ", 
         RowBox[{"mainFunc", "[", "init", "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"result", " ", "===", " ", "$Failed"}], ",", 
          RowBox[{"reverseFunc", "[", "init", "]"}]}], "]"}]}], 
       "\[IndentingNewLine]", "]"}]}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.5626071612128906`*^9, 3.5626071809658203`*^9}, {
  3.5626072305527344`*^9, 3.562607235473633*^9}, {3.562607296415039*^9, 
  3.5626073091464844`*^9}, {3.562607459223633*^9, 3.5626076350595703`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "extractZippedProject", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"extractZippedProject", "[", 
    RowBox[{"path_", ",", "tempDir_"}], "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{"ReverseIfFails", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"extractArchive", "[", 
      RowBox[{"path", ",", "tempDir", ",", "\"\<ZIP\>\""}], "]"}], ",", 
     "\[IndentingNewLine]", "getProjectDirNameFromUnzipped", ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"DeleteDirectory", "[", 
       RowBox[{"#", ",", 
        RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}], "&"}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"(*", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"extracted", ",", "prdir"}], "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"extracted", " ", "=", " ", 
           RowBox[{"extractArchive", "[", 
            RowBox[{"path", ",", "tempDir", ",", "\"\<ZIP\>\""}], "]"}]}], 
          ")"}], "===", "$Failed"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Return", "[", "$Failed", "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"CleanUp", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"prdir", "=", 
           RowBox[{"getProjectDirNameFromUnzipped", "[", "extracted", "]"}]}],
           ",", "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"prdir", " ", "===", " ", "$Failed"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"DeleteDirectory", "[", 
             RowBox[{"extracted", " ", ",", 
              RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}]}], 
           "\[IndentingNewLine]", "]"}]}], "]"}]}], "]"}]}], "]"}], ";"}], 
   "\[IndentingNewLine]", "*)"}]}]}], "Input",
 CellChangeTimes->{{3.562605315692383*^9, 3.5626053213691406`*^9}, {
  3.5626053642939453`*^9, 3.562605400770508*^9}, {3.5626055035009766`*^9, 
  3.5626055586933594`*^9}, {3.5626057770859375`*^9, 3.5626059075615234`*^9}, {
  3.562606016216797*^9, 3.5626060436445312`*^9}, {3.5626076404628906`*^9, 
  3.5626076839345703`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "withTemporaryDirectory", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"withTemporaryDirectory", "::", "nodel"}], " ", "=", " ", 
   "\"\<Warning: unable to delete temporary directory `1`\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"withTemporaryDirectory", "::", "nocreate"}], " ", "=", " ", 
   "\"\<Unable to create temporary directory `1`\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"withTemporaryDirectory", ",", "HoldRest"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"withTemporaryDirectory", "[", 
     RowBox[{"tempDir_String", ",", "code_"}], "]"}], ":=", 
    "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Quiet", "@", 
        RowBox[{"CreateDirectory", "[", "tempDir", "]"}]}], "===", 
       "$Failed"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Message", "[", 
        RowBox[{
         RowBox[{"withTemporaryDirectory", "::", "nocreate"}], ",", 
         "tempDir"}], "]"}], ";", "\[IndentingNewLine]", "$Failed"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"CleanUp", "[", 
       RowBox[{"code", ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"DeleteDirectory", "[", 
            RowBox[{"tempDir", ",", 
             RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}], "===", 
           "$Failed"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Message", "[", 
           RowBox[{
            RowBox[{"withTemporaryDirectory", "::", "nodel"}], ",", 
            "tempDir"}], "]"}]}], "\[IndentingNewLine]", "]"}]}], "]"}]}], 
     "]"}]}], ";"}], " "}]}], "Input",
 CellChangeTimes->{{3.5626082924570312`*^9, 3.562608598678711*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "autoSet", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"autoSet", ",", "HoldAll"}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"autoSet", "[", 
    RowBox[{"var_", ",", "value_"}], "]"}], ":=", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"var", "===", "Automatic"}], ",", 
     RowBox[{"var", "=", "value"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.562608874361328*^9, 3.562608874364258*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "projectInstall", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "projectInstall", "]"}], "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"DestinationDirectory", " ", "\[RuleDelayed]", " ", 
      RowBox[{"FileNameJoin", "[", 
       RowBox[{"{", 
        RowBox[{"$UserBaseDirectory", ",", " ", "\"\<Applications\>\""}], 
        "}"}], "]"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"TempBaseDirectory", " ", "\[RuleDelayed]", " ", "Automatic"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<ProjectJarLocations\>\"", "\[RuleDelayed]", " ", 
      "$projectJarLocations"}]}], "\[IndentingNewLine]", "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"projectInstall", "[", 
    RowBox[{"path_", ",", " ", "\"\<ZIP\>\"", ",", 
     RowBox[{"opts", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", 
   "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"$destinationDirectory", "=", " ", 
        RowBox[{"OptionValue", "[", "DestinationDirectory", " ", "]"}]}], ",",
        "\[IndentingNewLine]", 
       RowBox[{"tempBaseDir", " ", "=", " ", 
        RowBox[{"OptionValue", "[", "TempBaseDirectory", "]"}]}], ",", 
       "\[IndentingNewLine]", "$tempDir", ",", "$tempLayoutDir", ",", " ", 
       "prdir", ",", "projectName", ",", "targetProjectDir", ",", 
       "\[IndentingNewLine]", "initFile", ",", "deployed", ",", "deleted"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"autoSet", "[", 
       RowBox[{"tempBaseDir", ",", 
        RowBox[{
        "ApplicationDataUserDirectory", "[", "\"\<LoadedProjects\>\"", 
         "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"shortCircuitFail", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"$tempDir", "=", " ", 
         RowBox[{"makeTemporaryDirectoryName", "[", "tempBaseDir", "]"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"$tempLayoutDir", " ", "=", " ", 
         RowBox[{"makeTemporaryDirectoryName", "[", "tempBaseDir", "]"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"AddToClassPath", "@@", 
         RowBox[{"OptionValue", "[", "\"\<ProjectJarLocations\>\"", "]"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"prdir", " ", "=", " ", 
         RowBox[{"extractZippedProject", "[", 
          RowBox[{"path", ",", "$tempDir"}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"projectName", " ", "=", " ", 
         RowBox[{"determineProjectName", "[", "prdir", "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"check", "[", 
         RowBox[{"!", 
          RowBox[{"projectAlreadyExistsQ", "[", 
           RowBox[{"$destinationDirectory", ",", "projectName"}], "]"}]}], 
         "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"withTemporaryDirectory", "[", "\[IndentingNewLine]", 
         RowBox[{"$tempLayoutDir", ",", "\[IndentingNewLine]", 
          RowBox[{"shortCircuitFail", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"targetProjectDir", "=", " ", 
             RowBox[{"buildProjectLayout", "[", 
              RowBox[{"$tempLayoutDir", ",", "prdir", ",", "projectName"}], 
              "]"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"deployed", " ", "=", 
             RowBox[{"CopyDirectory", "[", 
              RowBox[{"targetProjectDir", ",", 
               RowBox[{"FileNameJoin", "[", 
                RowBox[{"{", 
                 RowBox[{"$destinationDirectory", ",", "projectName"}], "}"}],
                 "]"}]}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
         "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
        "deployed"}], " ", "\[IndentingNewLine]", "]"}]}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.562517814338867*^9, 3.5625179192041016`*^9}, {
   3.562518011942383*^9, 3.5625180838828125`*^9}, {3.5625181147958984`*^9, 
   3.5625183255566406`*^9}, {3.562518381873047*^9, 3.5625183870029297`*^9}, {
   3.562518443069336*^9, 3.5625185393007812`*^9}, {3.5625185845429688`*^9, 
   3.562518685850586*^9}, {3.5625187462070312`*^9, 3.562518780196289*^9}, {
   3.5625188290390625`*^9, 3.5625188482958984`*^9}, 3.5625189770302734`*^9, {
   3.5625191818066406`*^9, 3.562519292149414*^9}, {3.5625193624541016`*^9, 
   3.562519751807617*^9}, {3.5625200980507812`*^9, 3.562520133625*^9}, {
   3.562520742948242*^9, 3.562520750428711*^9}, {3.5625982874541016`*^9, 
   3.562598291015625*^9}, {3.562599092973633*^9, 3.5625991195878906`*^9}, 
   3.5625991597041016`*^9, {3.5625992547402344`*^9, 3.562599267336914*^9}, {
   3.5625995699853516`*^9, 3.5625995733398438`*^9}, {3.5626011404609375`*^9, 
   3.5626012187177734`*^9}, {3.5626012544570312`*^9, 
   3.5626013027734375`*^9}, {3.562601335165039*^9, 3.5626013624375*^9}, 
   3.562601431955078*^9, {3.5626015465009766`*^9, 3.56260171740625*^9}, {
   3.562602675626953*^9, 3.5626027008447266`*^9}, {3.562602930979492*^9, 
   3.5626029576728516`*^9}, {3.562603074015625*^9, 3.562603107008789*^9}, {
   3.562606068783203*^9, 3.5626062300742188`*^9}, {3.5626063036757812`*^9, 
   3.562606310086914*^9}, {3.562606423051758*^9, 3.5626064326445312`*^9}, {
   3.5626077566757812`*^9, 3.5626077831152344`*^9}, 3.5626078534970703`*^9, 
   3.562607898838867*^9, {3.5626080303291016`*^9, 3.5626081401552734`*^9}, {
   3.5626081725625*^9, 3.562608226595703*^9}, {3.562608613126953*^9, 
   3.5626086932871094`*^9}, {3.562608796510742*^9, 3.562608803473633*^9}, {
   3.5626088915097656`*^9, 3.56260893715625*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Examples", "Subsubsection",
 CellChangeTimes->{{3.562589691544922*^9, 3.5625896926523438`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Needs", "[", "\"\<Utilities`URLTools`\>\"", "]"}], ";"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"path", "=", 
  RowBox[{
  "FetchURL", "[", 
   "\"\<https://github.com/lshifr/CodeFormatter/archive/master.zip\>\"", 
   "]"}]}]], "Input"],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Local\\\\Temp\\\\m-\
2825e600-edb6-4378-816c-aaa38858911c_Temp___master.zip\"\>"], "Output",
 CellChangeTimes->{3.5625947660439453`*^9, 3.5625950278203125`*^9, 
  3.562597503194336*^9, 3.5625981471904297`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"$destinationDirectory", " ", "=", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{"$UserBaseDirectory", ",", " ", "\"\<Applications\>\""}], "}"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.5625948772470703`*^9, 3.5625948910117188`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\Applications\"\>"], "Output",
 CellChangeTimes->{3.562594891834961*^9, 3.5625950320322266`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"projectAlreadyExistsQ", "[", 
  RowBox[{"$destinationDirectory", " ", ",", "\"\<CodeFormatter\>\""}], 
  "]"}]], "Input",
 CellChangeTimes->{
  3.562594803399414*^9, {3.5625948721708984`*^9, 3.5625949017597656`*^9}}],

Cell[BoxData["False"], "Output",
 CellChangeTimes->{{3.5625949021328125`*^9, 3.5625949313134766`*^9}, 
   3.562595033209961*^9, 3.5625975063964844`*^9, 3.562598131366211*^9, 
   3.562598209939453*^9, 3.562598369154297*^9, 3.562601799305664*^9, 
   3.5626064055458984`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"projectInstall", "[", 
  RowBox[{"path", ",", "\"\<ZIP\>\""}], "]"}]], "Input",
 CellChangeTimes->{{3.562594942866211*^9, 3.5625949555039062`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\Applications\\\\CodeFormatter\"\>"], "Output",
 CellChangeTimes->{3.5626030051884766`*^9, 3.562603535526367*^9, 
  3.5626064072958984`*^9, 3.5626077039375*^9, 3.5626087893896484`*^9, 
  3.5626097502128906`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"DeleteFile", "[", "path", "]"}]], "Input",
 CellChangeTimes->{{3.562595259076172*^9, 3.5625952618095703`*^9}}],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<CodeFormatter`\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.5625950657910156`*^9, 3.5625950722070312`*^9}}],

Cell[BoxData[
 RowBox[{"uninstallProject", "[", 
  RowBox[{"$destinationDirectory", " ", ",", "\"\<CodeFormatter\>\""}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.5625952000126953`*^9, 3.562595228629883*^9}}],

Cell[BoxData["\[IndentingNewLine]"], "Input",
 CellChangeTimes->{{3.5625952478164062`*^9, 3.5625952566845703`*^9}, 
   3.5626040799208984`*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gistpath", "=", 
  RowBox[{"FetchURL", "[", 
   RowBox[{
   "\"\<https://gist.github.com/gists/4110264/download\>\"", ",", 
    "\"\<gist4110264.tar.gz\>\"", ",", 
    RowBox[{"FileFilters", "\[Rule]", 
     RowBox[{"{", "}"}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.5626040901845703`*^9, 3.5626041229941406`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\Documents\\\\gist4110264.tar.gz\"\>\
"], "Output",
 CellChangeTimes->{3.5626041301484375`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tempTarDir", "=", " ", 
  RowBox[{"makeTemporaryDirectoryName", "[", 
   RowBox[{
   "ApplicationDataUserDirectory", "[", "\"\<LoadedProjects\>\"", "]"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.562604207501953*^9, 3.562604218428711*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp90716\"\>"], "Output",
 CellChangeTimes->{3.562604219716797*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ungzipped", " ", "=", " ", 
  RowBox[{"extractArchive", "[", 
   RowBox[{"gistpath", ",", "tempTarDir", ",", "\"\<GZIP\>\""}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.5626042281347656`*^9, 3.5626042544052734`*^9}, {
  3.5626048657802734`*^9, 3.562604884348633*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp90716\"\>"], "Output",
 CellChangeTimes->{3.5626047116015625`*^9, 3.5626048852783203`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tarFilePath", " ", "=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "[", "#", "]"}], "\[Equal]", "1"}], ",", 
      RowBox[{"First", "@", "#"}], ",", "$Failed"}], "]"}], "&"}], "@", 
   RowBox[{"FileNames", "[", 
    RowBox[{"\"\<*.tar\>\"", ",", 
     RowBox[{"{", "ungzipped", "}"}]}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.5626048237421875`*^9, 3.562604846553711*^9}, {
  3.562604892904297*^9, 3.5626049298623047`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp90716\\\\gist4110264.tar\"\>"], \
"Output",
 CellChangeTimes->{3.5626049318935547`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tempUntarredDir", "=", " ", 
  RowBox[{"makeTemporaryDirectoryName", "[", 
   RowBox[{
   "ApplicationDataUserDirectory", "[", "\"\<LoadedProjects\>\"", "]"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.562604966671875*^9, 3.562604969379883*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp29638\"\>"], "Output",
 CellChangeTimes->{3.5626049702871094`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"untarred", " ", "=", " ", 
  RowBox[{"extractArchive", "[", 
   RowBox[{"tarFilePath", ",", "tempUntarredDir", ",", "\"\<TAR\>\""}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.562604938213867*^9, 3.562604981966797*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp29638\"\>"], "Output",
 CellChangeTimes->{3.5626049833242188`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"resultingProjectDir", " ", "=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "[", "#", "]"}], "\[Equal]", "1"}], ",", 
      RowBox[{"First", "@", "#"}], ",", "$Failed"}], "]"}], "&"}], "@", 
   RowBox[{"Select", "[", 
    RowBox[{
     RowBox[{"FileNames", "[", 
      RowBox[{"\"\<*\>\"", ",", 
       RowBox[{"{", "untarred", "}"}]}], "]"}], ",", "DirectoryQ"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.562605022401367*^9, 3.5626051179541016`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp29638\\\\gist4110264-\
18f0d2730e7a839254d149752ea22073a71ec0c2\"\>"], "Output",
 CellChangeTimes->{3.562605120701172*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["TODO", "Subsection",
 CellChangeTimes->{{3.562609236838867*^9, 3.5626092375703125`*^9}}],

Cell["\<\
Much better diagnostics / error-handling\
\>", "Subsubsection",
 CellChangeTimes->{{3.5626092432060547`*^9, 3.5626092572646484`*^9}}],

Cell["tar.gz projects", "Subsubsection",
 CellChangeTimes->{{3.5626092609414062`*^9, 3.5626092745966797`*^9}}],

Cell["projects from the web", "Subsubsection",
 CellChangeTimes->{{3.562609277595703*^9, 3.5626092810146484`*^9}}],

Cell["\<\
Fix the logging, start logging the problems on both M and Java side\
\>", "Subsubsection",
 CellChangeTimes->{{3.5626092839697266`*^9, 3.562609287013672*^9}, {
  3.562609441470703*^9, 3.5626094599072266`*^9}}],

Cell["Test on gists / repos", "Subsubsection",
 CellChangeTimes->{{3.5626094754804688`*^9, 3.562609482751953*^9}}],

Cell["Make a package", "Subsubsection",
 CellChangeTimes->{{3.562609488817383*^9, 3.5626094910722656`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Drafts", "Subsection",
 CellChangeTimes->{{3.562520913370117*^9, 3.562520913970703*^9}}],

Cell[BoxData[{
 RowBox[{"Needs", "[", "\"\<JLink`\>\"", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "AddToClassPath", "[", 
   "\"\<C:\\\\Users\\\\Archie\\\\WolframWorkspaces\\\\Alt\\\\ProjectInstaller\
\\\\javaOutput\\\\Build\\\\jar\\\\ProjectInstaller.jar\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "AddToClassPath", "[", 
   "\"\<C:\\\\Users\\\\Archie\\\\WolframWorkspaces\\\\Alt\\\\ProjectInstaller\
\\\\ProjectInstaller\\\\Java\>\"", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.562503154848633*^9, 3.562503171984375*^9}, {
  3.5625042326220703`*^9, 3.562504275194336*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Needs", "[", "\"\<Utilities`URLTools`\>\"", "]"}], ";"}], "\n", 
 RowBox[{"path", "=", 
  RowBox[{"FetchURL", "[", 
   RowBox[{
   "\"\<https://gist.github.com/gists/4110264/download\>\"", ",", 
    "\"\<gist4110264.tar.gz\>\""}], "]"}]}]}], "Input"],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\Documents\\\\gist4110264.tar\"\>"],\
 "Output",
 CellChangeTimes->{3.5625044593183594`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"extr", " ", "=", " ", 
  RowBox[{
  "JavaNew", "[", "\"\<org.lshifr.arch.ZipTarExtractor\>\"", "]"}]}]], "Input",
 CellChangeTimes->{{3.562504479803711*^9, 3.5625045193916016`*^9}}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\[LeftGuillemet]", 
   RowBox[{"JavaObject", "[", 
    RowBox[{"org", ".", "lshifr", ".", "arch", ".", "ZipTarExtractor"}], 
    "]"}], "\[RightGuillemet]"}],
  JLink`Objects`vm1`JavaObject8946656607207425]], "Output",
 CellChangeTimes->{{3.5625045146347656`*^9, 3.5625045198320312`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"JavaNew", "[", "\"\<org.lshifr.arch.ZipTarExtractr\>\"", 
  "]"}]], "Input",
 CellChangeTimes->{3.5625185772490234`*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"Java", "::", "excptn"}], "MessageName"], ":", 
  " ", "\<\"A Java exception occurred: \
\[NoBreak]\\!\\(\\\"java.lang.ClassNotFoundException: \
org.lshifr.arch.ZipTarExtractr\\\\n\\\\tat \
java.net.URLClassLoader$1.run(URLClassLoader.java:200)\\\\n\\\\tat \
java.security.AccessController.doPrivileged(Native Method)\\\\n\\\\tat \
java.net.URLClassLoader.findClass(URLClassLoader.java:188)\\\\n\\\\tat \
java.lang.ClassLoader.loadClass(ClassLoader.java:307)\\\\n\\\\tat \
java.lang.ClassLoader.loadClass(ClassLoader.java:252)\\\\n\\\\tat \
java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)\\\\n\\\\tat \
java.lang.Class.forName0(Native Method)\\\\n\\\\tat \
java.lang.Class.forName(Class.java:247)\\\"\\)\[NoBreak].\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.5625185777441406`*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"LoadJavaClass", "::", "fail"}], "MessageName"], ":", 
  " ", "\<\"Java failed to load class \
\[NoBreak]\\!\\(\\\"org.lshifr.arch.ZipTarExtractr\\\"\\)\[NoBreak]. \
\\!\\(\\*ButtonBox[\\\"\[RightSkeleton]\\\", ButtonStyle->\\\"Link\\\", \
ButtonFrame->None, ButtonData:>\\\"paclet:JLink/ref/LoadJavaClass\\\", \
ButtonNote -> \\\"JLink`LoadJavaClass::fail\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.562518577748047*^9}],

Cell[BoxData["$Failed"], "Output",
 CellChangeTimes->{3.56251857775*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<ResourceLocator`\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.562504677413086*^9, 3.5625046857714844`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"$tempDir", "=", " ", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
     "ApplicationDataUserDirectory", "[", "\"\<GithubGists\>\"", "]"}], ",", 
     "\"\<temp_gist4110264\>\""}], "}"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.562504554732422*^9, 3.5625046135458984`*^9}, {
  3.5625047210322266`*^9, 3.5625047302158203`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\GithubGists\\\\temp_gist4110264\"\>"], "Output",
 CellChangeTimes->{3.5625046140009766`*^9, 3.562504735123047*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"err", "=", " ", 
  RowBox[{"extr", "@", 
   RowBox[{"unTar", "[", 
    RowBox[{"path", ",", "$tempDir"}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.5625045344560547`*^9, 3.5625045492373047`*^9}, {
  3.562504621245117*^9, 3.5625046412626953`*^9}}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\[LeftGuillemet]", 
   RowBox[{"JavaObject", "[", 
    RowBox[{"org", ".", "lshifr", ".", "arch", ".", "ArchiveError"}], "]"}], 
   "\[RightGuillemet]"}],
  JLink`Objects`vm1`JavaObject29851367233290241]], "Output",
 CellChangeTimes->{{3.5625046223154297`*^9, 3.562504642767578*^9}, 
   3.562504736709961*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"err", "@", "msg"}]], "Input",
 CellChangeTimes->{{3.5625046437021484`*^9, 3.562504651567383*^9}}],

Cell[BoxData["\<\"Success\"\>"], "Output",
 CellChangeTimes->{3.562504652201172*^9, 3.5625047384697266`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"path", "=", 
  RowBox[{
  "FetchURL", "[", 
   "\"\<https://github.com/lshifr/CodeFormatter/archive/master.zip\>\"", 
   "]"}]}]], "Input"],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Local\\\\Temp\\\\\
Temp8671___master.zip\"\>"], "Output",
 CellChangeTimes->{3.562506833111328*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"$tempDir", "=", " ", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
     "ApplicationDataUserDirectory", "[", "\"\<GithubGists\>\"", "]"}], ",", 
     "\"\<Formatter\>\""}], "}"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.5625068941289062`*^9, 3.5625068955507812`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\GithubGists\\\\Formatter\"\>"], "Output",
 CellChangeTimes->{3.5625068982646484`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"err", "=", " ", 
  RowBox[{"extr", "@", 
   RowBox[{"unZip", "[", 
    RowBox[{"path", ",", "$tempDir"}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.5625068426875*^9, 3.5625068432001953`*^9}}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\[LeftGuillemet]", 
   RowBox[{"JavaObject", "[", 
    RowBox[{"org", ".", "lshifr", ".", "arch", ".", "ArchiveError"}], "]"}], 
   "\[RightGuillemet]"}],
  JLink`Objects`vm1`JavaObject33858902063841281]], "Output",
 CellChangeTimes->{3.5625068488251953`*^9, 3.562506899602539*^9, 
  3.562506961015625*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"err", "@", "msg"}]], "Input"],

Cell[BoxData["\<\"cannot_create_dirs\"\>"], "Output",
 CellChangeTimes->{3.5625068567333984`*^9, 3.562506900520508*^9, 
  3.562506961859375*^9}]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "makeTemporaryDirectoryName", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"makeTemporaryDirectoryName", "::", "maxit"}], "=", 
   "\"\<Unable to produce a unique directory name in `1` iterations\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "makeTemporaryDirectoryName", "]"}], "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{"MaxIterations", " ", "\[Rule]", " ", "1000"}], 
    "\[IndentingNewLine]", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"makeTemporaryDirectoryName", "[", "globalTempDir_", "]"}], ":=", 
  "\[IndentingNewLine]", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"tempDir", ",", " ", 
      RowBox[{"n", "=", "0"}], ",", 
      RowBox[{"lim", " ", "=", " ", 
       RowBox[{"OptionValue", "[", "MaxIterations", "]"}]}]}], " ", "}"}], 
    ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"While", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"FileExistsQ", "[", "\[IndentingNewLine]", 
        RowBox[{"tempDir", " ", "=", " ", "\[IndentingNewLine]", 
         RowBox[{"FileNameJoin", "[", 
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{"globalTempDir", ",", "\[IndentingNewLine]", 
            RowBox[{"StringJoin", "[", 
             RowBox[{"\"\<temp\>\"", ",", 
              RowBox[{"ToString", "[", 
               RowBox[{"RandomInteger", "[", 
                RowBox[{"10", "^", "5"}], "]"}], "]"}]}], "]"}]}], 
           "\[IndentingNewLine]", "}"}], "]"}]}], "\[IndentingNewLine]", 
        "]"}], "&&", " ", 
       RowBox[{
        RowBox[{"++", "n"}], "<", "lim"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"n", ">", "lim"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{
          RowBox[{"makeTemporaryDirectoryName", "::", "maxit"}], ",", "lim"}],
          "]"}], ";", "\[IndentingNewLine]", 
        RowBox[{"Return", "[", "$Failed", "]"}]}]}], "\[IndentingNewLine]", 
      "]"}], ";", "\[IndentingNewLine]", "tempDir"}]}], "]"}]}]}], "Input",
 CellChangeTimes->{{3.5625070131757812`*^9, 3.562507023794922*^9}, {
  3.5625070573691406`*^9, 3.5625072225126953`*^9}, {3.5625072780253906`*^9, 
  3.5625076469970703`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"makeTemporaryDirectoryName", "[", 
  RowBox[{"ApplicationDataUserDirectory", "[", "\"\<GithubGists\>\"", "]"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.5625076528447266`*^9, 3.5625076649716797`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\GithubGists\\\\temp94270\"\>"], "Output",
 CellChangeTimes->{{3.562507665689453*^9, 3.562507669868164*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FileNameTake", "[", 
  RowBox[{"path", ",", 
   RowBox[{"-", "1"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.5625142223896484`*^9, 3.5625142827998047`*^9}}],

Cell[BoxData["\<\"JavaCodeHighlighterFolder.zip\"\>"], "Output",
 CellChangeTimes->{3.562514240385742*^9, 3.5625142831679688`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Get", "@", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{"prdir", ",", "\"\<project.m\>\""}], "}"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.5625143932304688`*^9, 3.5625143972197266`*^9}}],

Cell[BoxData[
 RowBox[{"project", "[", 
  RowBox[{
   RowBox[{"\<\"author\"\>", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\<\"name\"\>", "\[Rule]", "\<\"Leonid Shifrin\"\>"}], ",", 
      RowBox[{"\<\"email\"\>", "\[Rule]", "\<\"lshifr@gmail.com\"\>"}], ",", 
      RowBox[{"\<\"url\"\>", 
       "\[Rule]", "\<\"http://www.mathprogramming-intro.org\"\>"}]}], "}"}]}],
    ",", 
   RowBox[{"\<\"name\"\>", "\[Rule]", "\<\"JavaCodeHighlighter\"\>"}], ",", 
   RowBox[{"\<\"Description\"\>", 
    "\[Rule]", "\<\"Code highlighting for Java in Mathematica FrontEnd\"\>"}],
    ",", 
   RowBox[{"\<\"url\"\>", "\[Rule]", "Undefined"}], ",", 
   RowBox[{"\<\"license\"\>", "\[Rule]", "\<\"MIT\"\>"}]}], "]"}]], "Output",
 CellChangeTimes->{{3.562514393694336*^9, 3.5625143975625*^9}}]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "getProjectName", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"getProjectName", "[", "prfile_", "]"}], ":=", 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Get", "[", "prfile", "]"}], "/.", 
   RowBox[{
    RowBox[{"project", "[", "rules__", "]"}], "\[RuleDelayed]", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\"\<name\>\"", "/.", 
       RowBox[{"{", "rules", "}"}]}], "/.", 
      RowBox[{"\"\<name\>\"", "\[RuleDelayed]", 
       RowBox[{"Throw", "[", 
        RowBox[{"$Failed", ",", " ", "getProjectName"}], "]"}]}]}], 
     ")"}]}]}]}]}], "Input",
 CellChangeTimes->{{3.5625145791484375`*^9, 3.5625146238398438`*^9}, {
  3.5625149058652344`*^9, 3.5625149085117188`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "singlePackageInProjectQ", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"singlePackageInProjectQ", "[", "prdir_", "]"}], ":=", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Length", "[", 
     RowBox[{"FileNames", "[", 
      RowBox[{"\"\<*.m\>\"", ",", 
       RowBox[{"{", "prdir", "}"}]}], "]"}], "]"}], "\[Equal]", "1"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.562514657696289*^9, 3.5625147067998047`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"showIt", "[", "x__", "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"Print", "[", "x", "]"}], ";", "x"}], ")"}]}]], "Input",
 CellChangeTimes->{{3.562515384126953*^9, 3.5625153950585938`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "determineProjectName", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"determineProjectName", "::", "nopckg"}], " ", "=", " ", 
   "\"\<A package with the same name as the project: `1`, expected in the top \
level of the porject directory\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"determineProjectName", "[", 
    RowBox[{"prdir_String", "?", "DirectoryQ"}], "]"}], ":=", 
   "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"prfile", "=", " ", 
        RowBox[{"FileNameJoin", "[", 
         RowBox[{"{", 
          RowBox[{"prdir", ",", "\"\<project.m\>\""}], "}"}], "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"packages", " ", "=", " ", 
        RowBox[{"FileNames", "[", 
         RowBox[{"\"\<*.m\>\"", ",", 
          RowBox[{"{", "prdir", "}"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
       "prname"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"prname", "=", 
       RowBox[{"Which", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"FileExistsQ", "[", "prfile", "]"}], ",", 
         "\[IndentingNewLine]", "\t", 
         RowBox[{"getProjectName", "[", "prfile", "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Length", "[", "packages", "]"}], "\[Equal]", "1"}], ",", 
         "\[IndentingNewLine]", "\t", 
         RowBox[{"FileBaseName", "[", 
          RowBox[{"First", "@", "packages"}], "]"}], ",", 
         "\[IndentingNewLine]", "True", ",", "\[IndentingNewLine]", "\t", 
         RowBox[{"Throw", "[", 
          RowBox[{"$Failed", ",", "determineProjectName"}], "]"}]}], 
        "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"mainPackage", " ", "=", 
          RowBox[{"FileNameJoin", "[", 
           RowBox[{"{", 
            RowBox[{"prdir", ",", 
             RowBox[{"prname", "<>", "\"\<.m\>\""}]}], "}"}], "]"}]}], "}"}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"!", 
           RowBox[{"MemberQ", "[", 
            RowBox[{"packages", ",", " ", "mainPackage"}], "]"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Message", "[", 
            RowBox[{
             RowBox[{"determineProjectName", "::", "nopckg"}], ",", 
             RowBox[{"FileNameTake", "[", 
              RowBox[{"mainPackage", ",", 
               RowBox[{"-", "1"}]}], "]"}]}], "]"}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"Throw", "[", 
            RowBox[{"$Failed", ",", "determineProjectName"}], "]"}], ";"}]}], 
         "\[IndentingNewLine]", "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      "prname"}]}], "\[IndentingNewLine]", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.562514818040039*^9, 3.5625148874179688`*^9}, {
  3.562515053408203*^9, 3.5625153468359375`*^9}, {3.5625154039296875`*^9, 
  3.5625154324541016`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "projectAlreadyExistsQ", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"projectAlreadyExistsQ", "[", 
    RowBox[{
     RowBox[{"prdir_String", "?", "DirectoryQ"}], ",", "prname_String"}], 
    "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Select", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"FileNames", "[", 
       RowBox[{
        RowBox[{"{", "\"\<*\>\"", "}"}], ",", " ", "prdir"}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"FileBaseName", "[", "#", "]"}], "===", "prname"}], "&&", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"DirectoryQ", "[", "#", "]"}], "||", 
          RowBox[{
           RowBox[{"FileExtension", "[", "#", "]"}], "===", "\"\<m\>\""}]}], 
         ")"}]}], "&"}]}], "\[IndentingNewLine]", "]"}], "=!=", 
    RowBox[{"{", "}"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.5625167035410156`*^9, 3.5625167734003906`*^9}, {
  3.562516808901367*^9, 3.5625169845009766`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "uninstallProject", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"uninstallProject", "[", 
     RowBox[{"prdir_", ",", "prname_"}], "]"}], "/;", 
    RowBox[{"projectAlreadyExistsQ", "[", 
     RowBox[{"prdir", ",", "prname"}], "]"}]}], ":=", "\[IndentingNewLine]", 
   RowBox[{"DeleteDirectory", "[", 
    RowBox[{
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{"prdir", ",", "prname"}], "}"}], "]"}], ",", 
     RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.5625174837304688`*^9, 3.5625175863359375`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "formatCode", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"formatCode", "[", "code_Hold", "]"}], ":=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Function", "[", 
        RowBox[{"Null", ",", 
         RowBox[{"ToString", "[", 
          RowBox[{
           RowBox[{"Unevaluated", "[", "#", "]"}], ",", "InputForm"}], "]"}], 
         ",", "HoldAll"}], "]"}], "@@", "code"}], ",", 
      RowBox[{"\"\<;\>\"", "\[RuleDelayed]", "\"\<;\\n\>\""}]}], "]"}]}], 
   ";"}], "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"Clear", "[", "saveCode", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"saveCode", "[", 
    RowBox[{"file_", ",", "generatedCode_"}], "]"}], ":=", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"result", "=", 
       RowBox[{"BinaryWrite", "[", 
        RowBox[{"file", ",", 
         RowBox[{"formatCode", "@", "generatedCode"}]}], "]"}]}], "}"}], ",", 
     RowBox[{
      RowBox[{"Close", "[", "file", "]"}], ";", "\[IndentingNewLine]", 
      "result"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.5625155869833984`*^9, 3.5625155869882812`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "makeInitFile", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"makeInitFile", "[", 
    RowBox[{"dir_", ",", "code_Hold"}], "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{"saveCode", "[", 
    RowBox[{
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{"dir", ",", "\"\<init.m\>\""}], "}"}], "]"}], ",", "code"}], 
    "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.562515486591797*^9, 3.562515489982422*^9}, {
  3.5625156011083984`*^9, 3.5625156990166016`*^9}, {3.562515936520508*^9, 
  3.5625159382441406`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"$destinationDirectory", "=", " ", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{"$UserBaseDirectory", ",", "\"\<Applications\>\""}], "}"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.562513963205078*^9, 3.5625139881416016`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\Applications\"\>"], "Output",
 CellChangeTimes->{3.562513988522461*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"uninstallProject", "[", 
  RowBox[{"$destinationDirectory", ",", "\"\<JavaCodeHighlighter\>\""}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.562517604017578*^9, 3.562517618455078*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"$tempDir", "=", " ", 
  RowBox[{"makeTemporaryDirectoryName", "[", 
   RowBox[{
   "ApplicationDataUserDirectory", "[", "\"\<LoadedProjects\>\"", "]"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.5625137068466797`*^9, 3.562513723455078*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp21215\"\>"], "Output",
 CellChangeTimes->{3.5625137250742188`*^9, 3.5625174348427734`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"$tempLayoutDir", " ", "=", "  ", 
  RowBox[{"makeTemporaryDirectoryName", "[", 
   RowBox[{
   "ApplicationDataUserDirectory", "[", "\"\<LoadedProjects\>\"", "]"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.5625140364052734`*^9, 3.5625140513310547`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp69777\"\>"], "Output",
 CellChangeTimes->{3.5625140629277344`*^9, 3.5625174360478516`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{
  "path", "=", 
   "\"\<C:\\\\Temp\\\\InstallerTests\\\\JavaCodeHighlighterFolder.zip\>\""}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.5625136457841797`*^9, 3.5625136748007812`*^9}, {
  3.562513736276367*^9, 3.562513739165039*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"err", "=", " ", 
  RowBox[{"extr", "@", 
   RowBox[{"unZip", "[", 
    RowBox[{"path", ",", "$tempDir"}], "]"}]}]}]], "Input"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\[LeftGuillemet]", 
   RowBox[{"JavaObject", "[", 
    RowBox[{"org", ".", "lshifr", ".", "arch", ".", "ArchiveError"}], "]"}], 
   "\[RightGuillemet]"}],
  JLink`Objects`vm1`JavaObject29851367233290241]], "Output",
 CellChangeTimes->{3.5625137557148438`*^9, 3.562517438899414*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"If", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"err", "@", "msg"}], "=!=", "\"\<Success\>\""}], ",", " ", 
   RowBox[{"Return", "[", "$Failed", "]"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.562513769390625*^9, 3.5625137727333984`*^9}, {
  3.562513805828125*^9, 3.5625138634277344`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"!", 
      RowBox[{"MatchQ", "[", 
       RowBox[{"#", ",", 
        RowBox[{"{", 
         RowBox[{"_", "?", "DirectoryQ"}], "}"}]}], "]"}]}], ",", " ", 
     RowBox[{"Return", "[", "$Failed", "]"}], ",", 
     RowBox[{"prdir", " ", "=", 
      RowBox[{"First", "@", "#"}]}]}], "]"}], "&"}], "@", 
  RowBox[{"FileNames", "[", 
   RowBox[{"\"\<*\>\"", ",", "$tempDir"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.5625138691689453`*^9, 3.562513892459961*^9}, {
  3.5625139450820312`*^9, 3.5625139453554688`*^9}, {3.5625140801591797`*^9, 
  3.5625141475927734`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp21215\\\\JavaCodeHighlighterFolder\
\"\>"], "Output",
 CellChangeTimes->{3.562513892833008*^9, 3.562514148919922*^9, 
  3.5625174434853516`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"projectName", " ", "=", " ", 
  RowBox[{"determineProjectName", "[", "prdir", "]"}]}]], "Input",
 CellChangeTimes->{{3.5625141699804688`*^9, 3.5625142151796875`*^9}, {
   3.5625142894160156`*^9, 3.562514430435547*^9}, {3.5625144701875*^9, 
   3.56251459478125*^9}, {3.5625146329404297`*^9, 3.5625146518984375`*^9}, {
   3.562514713126953*^9, 3.562514729888672*^9}, {3.562514765114258*^9, 
   3.5625148142197266`*^9}, 3.5625148566992188`*^9, {3.5625148917402344`*^9, 
   3.5625149201621094`*^9}}],

Cell[BoxData["\<\"JavaCodeHighlighter\"\>"], "Output",
 CellChangeTimes->{{3.5625148972958984`*^9, 3.562514913428711*^9}, 
   3.562515351654297*^9, {3.5625154080078125`*^9, 3.5625154378320312`*^9}, 
   3.562517445557617*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"If", "[", 
  RowBox[{
   RowBox[{"projectAlreadyExistsQ", "[", 
    RowBox[{"$destinationDirectory", ",", "projectName"}], "]"}], ",", 
   "..."}], "]"}]], "Input",
 CellChangeTimes->{{3.5625170634023438`*^9, 3.5625170665878906`*^9}}],

Cell[CellGroupData[{

Cell[BoxData["$destinationDirectory"], "Input",
 CellChangeTimes->{{3.5625166896396484`*^9, 3.5625167022929688`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\Applications\"\>"], "Output",
 CellChangeTimes->{3.562517448584961*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["prdir"], "Input"],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp21215\\\\JavaCodeHighlighterFolder\
\"\>"], "Output",
 CellChangeTimes->{3.5625164724091797`*^9, 3.5625174507421875`*^9, 
  3.562520264958008*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FileNames", "[", 
  RowBox[{"\"\<*\>\"", ",", 
   RowBox[{"{", "prdir", "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.5625202706435547`*^9, 3.562520288301758*^9}}],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellChangeTimes->{{3.5625202818427734`*^9, 3.5625202886572266`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"projectAlreadyExistsQ", "[", 
  RowBox[{"$destinationDirectory", ",", "projectName"}], "]"}]], "Input",
 CellChangeTimes->{{3.562516999696289*^9, 3.562517056455078*^9}}],

Cell[BoxData["False"], "Output",
 CellChangeTimes->{3.5625170174433594`*^9, 3.5625170481171875`*^9, 
  3.5625174552109375`*^9, 3.5625176257939453`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"targetProjectDir", " ", "=", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", " ", 
    RowBox[{"$tempLayoutDir", " ", ",", " ", "projectName"}], "}"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.562514948283203*^9, 3.562514978430664*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp69777\\\\JavaCodeHighlighter\"\>"],\
 "Output",
 CellChangeTimes->{3.5625149793632812`*^9, 3.5625154395878906`*^9, 
  3.562517628373047*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CreateDirectory", "[", "targetProjectDir", " ", "]"}]], "Input",
 CellChangeTimes->{{3.5625149304853516`*^9, 3.562514935713867*^9}, {
  3.5625149879003906`*^9, 3.562514988708008*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp69777\\\\JavaCodeHighlighter\"\>"],\
 "Output",
 CellChangeTimes->{3.5625149890527344`*^9, 3.562515459977539*^9, 
  3.562517630484375*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"kernelDir", " ", "=", " ", 
  RowBox[{"CreateDirectory", "[", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{"targetProjectDir", ",", "\"\<Kernel\>\""}], "}"}], "]"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.5625157079257812`*^9, 3.562515752166992*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp69777\\\\JavaCodeHighlighter\\\\\
Kernel\"\>"], "Output",
 CellChangeTimes->{3.5625157525625*^9, 3.562517669272461*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"$contextSeparator", "=", " ", "\"\<`\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.5625158014375*^9, 3.5625158169960938`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"With", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"context", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"#", "<>", "#"}], "&"}], "[", 
      RowBox[{"projectName", "<>", "$contextSeparator"}], " ", "]"}]}], "}"}],
    ",", "\[IndentingNewLine]", 
   RowBox[{"initFile", " ", "=", " ", 
    RowBox[{"makeInitFile", "[", 
     RowBox[{"kernelDir", ",", 
      RowBox[{"Hold", "[", 
       RowBox[{"Get", "[", "context", "]"}], "]"}]}], "]"}]}]}], 
  "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.562515703890625*^9, 3.562515703958008*^9}, {
  3.5625157576435547`*^9, 3.562515893270508*^9}, {3.5625161431533203`*^9, 
  3.5625161522197266`*^9}, {3.562517427790039*^9, 3.5625174280341797`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp69777\\\\JavaCodeHighlighter\\\\\
Kernel\\\\init.m\"\>"], "Output",
 CellChangeTimes->{3.562515895114258*^9, 3.562515940875*^9, 
  3.562516153333008*^9, 3.562517672430664*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"If", "[", 
  RowBox[{
   RowBox[{"initFile", " ", "===", " ", "$Failed"}], ",", "..."}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.5625161585595703`*^9, 3.562516167734375*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"copied", "=", 
  RowBox[{"Map", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"DirectoryQ", "[", "#", "]"}], ",", "CopyDirectory", ",", 
        "CopyFile"}], "]"}], "[", "\[IndentingNewLine]", 
      RowBox[{"#", ",", " ", "\[IndentingNewLine]", 
       RowBox[{"FileNameJoin", "[", 
        RowBox[{"{", 
         RowBox[{"targetProjectDir", ",", 
          RowBox[{"FileNameTake", "[", 
           RowBox[{"#", ",", 
            RowBox[{"-", "1"}]}], "]"}]}], "}"}], "]"}]}], 
      "\[IndentingNewLine]", "]"}], "&"}], ",", 
    RowBox[{"FileNames", "[", 
     RowBox[{"\"\<*\>\"", ",", 
      RowBox[{"{", "prdir", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.5625161836054688`*^9, 3.5625162549716797`*^9}, {
   3.5625163133876953`*^9, 3.5625163399658203`*^9}, {3.5625163745742188`*^9, 
   3.5625164315878906`*^9}, 3.5625164771015625`*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\\\
ApplicationData\\\\LoadedProjects\\\\temp69777\\\\JavaCodeHighlighter\\\\\
JavaCodeHighlighter.m\"\>", 
   ",", "\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\\\
ApplicationData\\\\LoadedProjects\\\\temp69777\\\\JavaCodeHighlighter\\\\\
LICENSE\"\>", 
   ",", "\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\\\
ApplicationData\\\\LoadedProjects\\\\temp69777\\\\JavaCodeHighlighter\\\\\
project.m\"\>", 
   ",", "\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\\\
ApplicationData\\\\LoadedProjects\\\\temp69777\\\\JavaCodeHighlighter\\\\\
README.md\"\>"}], "}"}]], "Output",
 CellChangeTimes->{3.5625164789960938`*^9, 3.562517674859375*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"If", "[", 
  RowBox[{
   RowBox[{"MemberQ", "[", 
    RowBox[{"copied", ",", "$Failed"}], "]"}], ",", "..."}], "]"}]], "Input",
 CellChangeTimes->{{3.5625164823847656`*^9, 3.5625164943652344`*^9}}],

Cell[CellGroupData[{

Cell[BoxData["prdir"], "Input"],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp29065\\\\JavaCodeHighlighterFolder\
\"\>"], "Output",
 CellChangeTimes->{3.562517158626953*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["targetProjectDir"], "Input"],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\ApplicationData\\\\LoadedProjects\\\\temp15067\\\\JavaCodeHighlighter\"\>"],\
 "Output",
 CellChangeTimes->{3.5625171857441406`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"deployed", " ", "=", 
  RowBox[{"CopyDirectory", "[", 
   RowBox[{"targetProjectDir", ",", 
    RowBox[{"FileNameJoin", "[", 
     RowBox[{"{", 
      RowBox[{"$destinationDirectory", ",", "projectName"}], "}"}], "]"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.562517140817383*^9, 3.562517147260742*^9}, {
  3.5625171886875*^9, 3.5625172340253906`*^9}}],

Cell[BoxData["\<\"C:\\\\Users\\\\Archie\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\Applications\\\\JavaCodeHighlighter\"\>"], "Output",
 CellChangeTimes->{3.562517235004883*^9, 3.5625176798779297`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"If", "[", 
  RowBox[{
   RowBox[{"deployed", " ", "===", " ", "$Failed"}], ",", " ", "..."}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.562517237870117*^9, 3.5625172458691406`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"deleted", "=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"DeleteDirectory", "[", 
     RowBox[{"#", ",", 
      RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}], "&"}], "/@", 
   RowBox[{"{", 
    RowBox[{"$tempDir", ",", "$tempLayoutDir"}], "}"}]}]}]], "Input",
 CellChangeTimes->{{3.5625172477373047`*^9, 3.562517266213867*^9}, {
  3.5625173025283203`*^9, 3.5625173192578125`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"Null", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.562517320392578*^9, 3.562517366669922*^9, 
  3.562517682048828*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"If", "[", 
  RowBox[{
   RowBox[{"MemberQ", "[", 
    RowBox[{"deleted", ",", " ", "$Failed"}], "]"}], ",", "..."}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.5625173738564453`*^9, 3.562517384564453*^9}}],

Cell[BoxData["\[IndentingNewLine]"], "Input",
 CellChangeTimes->{3.5625173934453125`*^9}],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<JavaCodeHighlighter`\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.562517394461914*^9, 3.562517403696289*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "JavaCodeHighlighter`*"}]], "Input",
 CellChangeTimes->{{3.5625176949609375`*^9, 3.5625177044785156`*^9}}],

Cell[CellGroupData[{

Cell["JavaCodeHighlighter`GetJavaCell", "Print", "PrintUsage",
 CellChangeTimes->{3.5625177051054688`*^9},
 CellTags->"Info3562528504-5851878"],

Cell[BoxData[
 InterpretationBox[GridBox[{
    {GridBox[{
       {
        RowBox[{
         RowBox[{"GetJavaCell", "[", 
          RowBox[{"JavaCodeHighlighter`Private`options$___", "?", "OptionQ"}],
           "]"}], ":=", 
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"JavaCodeHighlighter`Private`text$", "=", 
             RowBox[{
              RowBox[{"\<\"InitialText\"\>", "/.", "\[InvisibleSpace]", 
               RowBox[{"Flatten", "[", 
                RowBox[{"{", "JavaCodeHighlighter`Private`options$", "}"}], 
                "]"}]}], "/.", "\[InvisibleSpace]", 
              RowBox[{"Options", "[", "GetJavaCell", "]"}]}]}], "}"}], ",", 
           RowBox[{"Cell", "[", 
            RowBox[{
             RowBox[{"TextData", "[", 
              RowBox[{"{", "JavaCodeHighlighter`Private`text$", "}"}], "]"}], 
             ",", "\<\"Program\"\>", ",", 
             RowBox[{"CellEventActions", "\[Rule]", "javaEventActions"}], ",", 
             RowBox[{"Sequence", "@@", 
              RowBox[{"Flatten", "[", 
               RowBox[{"{", "JavaCodeHighlighter`Private`options$", "}"}], 
               "]"}]}], ",", 
             RowBox[{"Sequence", "[", "]"}]}], "]"}]}], "]"}]}]}
      },
      BaselinePosition->{Baseline, {1, 1}},
      GridBoxAlignment->{
       "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
        "RowsIndexed" -> {}},
      GridBoxItemSize->{"Columns" -> {{
           Scaled[0.999]}}, "ColumnsIndexed" -> {}, "Rows" -> {{1.}}, 
        "RowsIndexed" -> {}}]},
    {" "},
    {GridBox[{
       {
        RowBox[{
         RowBox[{"Options", "[", "GetJavaCell", "]"}], "=", 
         RowBox[{"{", 
          
          RowBox[{"\<\"InitialText\"\>", 
           "\[Rule]", "\<\"Enter code here\"\>"}], "}"}]}]}
      },
      BaselinePosition->{Baseline, {1, 1}},
      GridBoxAlignment->{
       "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
        "RowsIndexed" -> {}},
      GridBoxItemSize->{"Columns" -> {{
           Scaled[0.999]}}, "ColumnsIndexed" -> {}, "Rows" -> {{1.}}, 
        "RowsIndexed" -> {}}]}
   },
   BaselinePosition->{Baseline, {1, 1}},
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}}],
  Definition[JavaCodeHighlighter`GetJavaCell],
  Editable->False]], "Print",
 CellChangeTimes->{3.562517705131836*^9},
 CellTags->"Info3562528504-5851878"]
}, Open  ]]
}, Open  ]],

Cell[BoxData[
 RowBox[{"CellPrint", "@", 
  RowBox[{"GetJavaCell", "[", "]"}]}]], "Input",
 CellChangeTimes->{{3.562517718708008*^9, 3.5625177290859375`*^9}}]
}, Closed]]
},
WindowSize->{1902, 910},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
PrivateNotebookOptions->{"VersionedStylesheet"->{"Default.nb"[8.] -> True}},
ShowSelection->True,
Magnification->1.5000001192092896`,
FrontEndVersion->"9.0 for Microsoft Windows (64-bit) (November 14, 2012)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "Info3562528504-5851878"->{
  Cell[82651, 2226, 143, 2, 60, "Print",
   CellTags->"Info3562528504-5851878"],
  Cell[82797, 2230, 2490, 62, 151, "Print",
   CellTags->"Info3562528504-5851878"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"Info3562528504-5851878", 85930, 2315}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 105, 1, 54, "Subsection"],
Cell[CellGroupData[{
Cell[709, 27, 97, 1, 38, "Subsubsection"],
Cell[809, 30, 286, 6, 71, "Input"],
Cell[1098, 38, 585, 12, 152, "Input"],
Cell[1686, 52, 1637, 42, 233, "Input"],
Cell[3326, 96, 2478, 55, 422, "Input"],
Cell[5807, 153, 383, 11, 71, "Input"],
Cell[6193, 166, 2381, 56, 557, "Input"],
Cell[8577, 224, 3359, 75, 692, "Input"],
Cell[11939, 301, 747, 19, 98, "Input"],
Cell[12689, 322, 500, 14, 98, "Input"],
Cell[13192, 338, 234, 6, 43, "Input"],
Cell[13429, 346, 3120, 74, 584, "Input"],
Cell[16552, 422, 1089, 29, 179, "Input"],
Cell[17644, 453, 678, 18, 98, "Input"],
Cell[18325, 473, 1328, 37, 233, "Input"],
Cell[19656, 512, 397, 9, 71, "Input"],
Cell[20056, 523, 720, 19, 179, "Input"],
Cell[20779, 544, 927, 22, 233, "Input"],
Cell[21709, 568, 548, 15, 98, "Input"],
Cell[22260, 585, 420, 11, 98, "Input"],
Cell[22683, 598, 3102, 65, 422, "Input"],
Cell[25788, 665, 2205, 43, 260, "Input"],
Cell[27996, 710, 1329, 34, 206, "Input"],
Cell[29328, 746, 1483, 37, 260, "Input"],
Cell[30814, 785, 2337, 53, 476, "Input"],
Cell[33154, 840, 1905, 50, 341, "Input"],
Cell[35062, 892, 502, 14, 98, "Input"],
Cell[35567, 908, 5677, 110, 773, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[41281, 1023, 101, 1, 38, "Subsubsection"],
Cell[41385, 1026, 102, 2, 43, "Input"],
Cell[CellGroupData[{
Cell[41512, 1032, 163, 5, 43, "Input"],
Cell[41678, 1039, 263, 3, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[41978, 1047, 277, 6, 43, "Input"],
Cell[42258, 1055, 177, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[42472, 1062, 240, 5, 43, "Input"],
Cell[42715, 1069, 272, 4, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[43024, 1078, 171, 3, 43, "Input"],
Cell[43198, 1083, 292, 4, 42, "Output"]
}, Open  ]],
Cell[43505, 1090, 134, 2, 43, "Input"],
Cell[43642, 1094, 149, 2, 43, "Input"],
Cell[43794, 1098, 208, 4, 43, "Input"],
Cell[44005, 1104, 143, 2, 71, "Input"],
Cell[CellGroupData[{
Cell[44173, 1110, 344, 8, 43, "Input"],
Cell[44520, 1120, 137, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[44694, 1127, 267, 6, 43, "Input"],
Cell[44964, 1135, 187, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[45188, 1142, 294, 6, 43, "Input"],
Cell[45485, 1150, 213, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[45735, 1157, 514, 13, 43, "Input"],
Cell[46252, 1172, 210, 3, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[46499, 1180, 272, 6, 43, "Input"],
Cell[46774, 1188, 189, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[47000, 1195, 245, 5, 43, "Input"],
Cell[47248, 1202, 189, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[47474, 1209, 545, 15, 43, "Input"],
Cell[48022, 1226, 245, 3, 42, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[48328, 1236, 94, 1, 54, "Subsection"],
Cell[48425, 1239, 143, 3, 38, "Subsubsection"],
Cell[48571, 1244, 110, 1, 27, "Subsubsection"],
Cell[48684, 1247, 114, 1, 27, "Subsubsection"],
Cell[48801, 1250, 219, 4, 27, "Subsubsection"],
Cell[49023, 1256, 114, 1, 27, "Subsubsection"],
Cell[49140, 1259, 107, 1, 27, "Subsubsection"]
}, Open  ]],
Cell[CellGroupData[{
Cell[49284, 1265, 94, 1, 54, "Subsection"],
Cell[49381, 1268, 617, 14, 98, "Input"],
Cell[CellGroupData[{
Cell[50023, 1286, 286, 7, 71, "Input"],
Cell[50312, 1295, 134, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[50483, 1302, 205, 4, 43, "Input"],
Cell[50691, 1308, 333, 7, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[51061, 1320, 144, 3, 43, "Input"],
Cell[51208, 1325, 848, 16, 268, "Message"],
Cell[52059, 1343, 480, 9, 35, "Message"],
Cell[52542, 1354, 72, 1, 42, "Output"]
}, Open  ]],
Cell[52629, 1358, 149, 2, 43, "Input"],
Cell[CellGroupData[{
Cell[52803, 1364, 381, 9, 43, "Input"],
Cell[53187, 1375, 215, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[53439, 1382, 271, 6, 43, "Input"],
Cell[53713, 1390, 354, 8, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[54104, 1403, 121, 2, 43, "Input"],
Cell[54228, 1407, 108, 1, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[54373, 1413, 163, 5, 43, "Input"],
Cell[54539, 1420, 153, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[54729, 1427, 323, 8, 43, "Input"],
Cell[55055, 1437, 186, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[55278, 1444, 216, 5, 43, "Input"],
Cell[55497, 1451, 351, 8, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[55885, 1464, 53, 1, 43, "Input"],
Cell[55941, 1467, 144, 2, 42, "Output"]
}, Open  ]],
Cell[56100, 1472, 2381, 56, 557, "Input"],
Cell[CellGroupData[{
Cell[58506, 1532, 225, 4, 43, "Input"],
Cell[58734, 1538, 208, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[58979, 1545, 180, 4, 43, "Input"],
Cell[59162, 1551, 130, 1, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[59329, 1557, 229, 5, 43, "Input"],
Cell[59561, 1564, 796, 17, 68, "Output"]
}, Open  ]],
Cell[60372, 1584, 747, 19, 98, "Input"],
Cell[61122, 1605, 500, 14, 98, "Input"],
Cell[61625, 1621, 234, 6, 43, "Input"],
Cell[61862, 1629, 3120, 74, 584, "Input"],
Cell[64985, 1705, 1089, 29, 179, "Input"],
Cell[66077, 1736, 678, 18, 98, "Input"],
Cell[66758, 1756, 1219, 34, 179, "Input"],
Cell[67980, 1792, 608, 15, 98, "Input"],
Cell[CellGroupData[{
Cell[68613, 1811, 270, 6, 43, "Input"],
Cell[68886, 1819, 153, 2, 42, "Output"]
}, Open  ]],
Cell[69054, 1824, 207, 4, 43, "Input"],
Cell[CellGroupData[{
Cell[69286, 1832, 267, 6, 43, "Input"],
Cell[69556, 1840, 213, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[69806, 1847, 281, 6, 43, "Input"],
Cell[70090, 1855, 213, 2, 42, "Output"]
}, Open  ]],
Cell[70318, 1860, 267, 7, 43, "Input"],
Cell[CellGroupData[{
Cell[70610, 1871, 150, 4, 43, "Input"],
Cell[70763, 1877, 326, 7, 42, "Output"]
}, Open  ]],
Cell[71104, 1887, 311, 7, 43, "Input"],
Cell[CellGroupData[{
Cell[71440, 1898, 648, 17, 43, "Input"],
Cell[72091, 1917, 267, 4, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[72395, 1926, 519, 8, 43, "Input"],
Cell[72917, 1936, 224, 3, 42, "Output"]
}, Open  ]],
Cell[73156, 1942, 258, 6, 43, "Input"],
Cell[CellGroupData[{
Cell[73439, 1952, 117, 1, 43, "Input"],
Cell[73559, 1955, 153, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[73749, 1962, 31, 0, 43, "Input"],
Cell[73783, 1964, 269, 4, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[74089, 1973, 189, 4, 43, "Input"],
Cell[74281, 1979, 115, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[74433, 1986, 193, 3, 43, "Input"],
Cell[74629, 1991, 151, 2, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[74817, 1998, 265, 6, 43, "Input"],
Cell[75085, 2006, 263, 4, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[75385, 2015, 207, 3, 43, "Input"],
Cell[75595, 2020, 261, 4, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[75893, 2029, 300, 7, 43, "Input"],
Cell[76196, 2038, 242, 3, 42, "Output"]
}, Open  ]],
Cell[76453, 2044, 162, 3, 43, "Input"],
Cell[CellGroupData[{
Cell[76640, 2051, 744, 18, 98, "Input"],
Cell[77387, 2071, 298, 4, 42, "Output"]
}, Open  ]],
Cell[77700, 2078, 200, 5, 43, "Input"],
Cell[CellGroupData[{
Cell[77925, 2087, 989, 24, 179, "Input"],
Cell[78917, 2113, 801, 14, 118, "Output"]
}, Open  ]],
Cell[79733, 2130, 221, 5, 43, "Input"],
Cell[CellGroupData[{
Cell[79979, 2139, 31, 0, 43, "Input"],
Cell[80013, 2141, 218, 3, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[80268, 2149, 42, 0, 43, "Input"],
Cell[80313, 2151, 214, 3, 42, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[80564, 2159, 383, 9, 43, "Input"],
Cell[80950, 2170, 200, 2, 42, "Output"]
}, Open  ]],
Cell[81165, 2175, 205, 5, 43, "Input"],
Cell[CellGroupData[{
Cell[81395, 2184, 412, 10, 43, "Input"],
Cell[81810, 2196, 168, 4, 42, "Output"]
}, Open  ]],
Cell[81993, 2203, 228, 6, 43, "Input"],
Cell[82224, 2211, 89, 1, 71, "Input"],
Cell[82316, 2214, 151, 2, 43, "Input"],
Cell[CellGroupData[{
Cell[82492, 2220, 134, 2, 43, "Input"],
Cell[CellGroupData[{
Cell[82651, 2226, 143, 2, 60, "Print",
 CellTags->"Info3562528504-5851878"],
Cell[82797, 2230, 2490, 62, 151, "Print",
 CellTags->"Info3562528504-5851878"]
}, Open  ]]
}, Open  ]],
Cell[85314, 2296, 158, 3, 43, "Input"]
}, Closed]]
}
]
*)

(* End of internal cache information *)
